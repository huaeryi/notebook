### PHP代码审计
#### 弱类型
* `===`比较时会判断类型是否相同再比较
* `==`比较时会将字符串类型转化为相同再比较
* 由此可以演化出一系列弱类型攻击方法
#### 哈希绕过（MD5）
* 数组 array->null可以实现强相等
* "0exxxxx" == "0eyyyy" //true
* MD5哈希碰撞可以实现字符串强相等
#### 命令注入
* 执行系统命令时注入恶意拼接的代码，一般来说web服务器的用户执行权限是www-data
* r = 4; w = 2; x = 1;
  * -rwxr--r--等价于一个文件权限是744
  * drwxr--r--等价于一个目录权限是744
#### 常用shell命令
* `echo 'abc' | md5sum` 管道
* `%0a` `%0d` 换行符
* `;` 无论如何都执行
* `&&` 成功后执行
* `||` 失败后执行
#### Bypass
* 过滤空格的绕过
* `$IFS` `${IFS}` `$IFS$9` `<` `<>` `{cat,flag.php}` `%20` `%09`
* 过滤关键字的绕过
  * 反斜线`\`绕过
  * 两个单引号`''`绕过
  * base64 hex绕过
  * 通配符匹配 
  * 变量绕过
* 双写绕过（添加自身）
#### 代码执行
* `<? php eval($_POST[0]);?>` 一句话木马，因为evel把字符串当代码执行
* 异或绕过
* 取反绕过
* 正则表达式 ?><?=`/???/???%20*` 可以匹配上 echo `/bin/cat/flag.php`
* `$f=create_function('$a, $b, $code');`
#### HTTP参数传递
* GET方法传递
* POST方法传递
#### robots.txt君子协定
* 口头禁止爬虫爬取robot.txt下的内容


### PHP反序列化
* 序列化serialize()将变量转化为字符串
* 反序列化unserialize()

### PHP文件包含
* 本地文件包含 相对于服务器的本地文件
* 远程文件包含 相对于服务器的远程文件
#### php伪协议
* `file://`
#### 00截断

#### 长度截断